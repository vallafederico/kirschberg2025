/* --------------------------------------------------------------------------
   FLUID TYPOGRAPHY SYSTEM — FINAL, LIVE + HEIGHT AWARE
   --------------------------------------------------------------------------
   FORMULAS
     slope (b)     = 100 × (maxSize − minSize) / (maxWidth − minWidth)
     intercept (a) = minSize − b × (minWidth / 100)
     font-size     = clamp(minSize, calc(a + b × 1vw), maxSize)

   HEIGHT MODIFIER
     vh-factor = clamp(vhMinFactor,
                       calc(vhMinFactor + (100vh - vhMin) /
                       (vhMax - vhMin) * (vhMaxFactor - vhMinFactor)),
                       vhMaxFactor)

   RULES
     • html font-size uses px/vw only → live scaling works
     • content uses rem → zoom & accessibility preserved
     • vh-factor subtly shrinks type on short screens
   -------------------------------------------------------------------------- */

html {
	/* viewport height modulation configuration */
	--vh-min: 500px;
	--vh-max: 700px;
	--vh-min-factor: 0.8;
	--vh-max-factor: 1;

	/* height-based multiplier (0.8–1 across 500–700px) */
	--vh-factor: clamp(
		var(--vh-min-factor),
		calc(
			var(--vh-min-factor) +
			(100vh - var(--vh-min)) /
			(var(--vh-max) - var(--vh-min)) *
			(var(--vh-max-factor) - var(--vh-min-factor))
		),
		var(--vh-max-factor)
	);

	/* Default 1024 → 1440 range */
	--min-size: 7.104px;
	--max-size: 10px;
	--slope: 0.696;
	--intercept: -0.022px;

	/* One live, fluid formula */
	font-size: calc(
		var(--vh-factor) *
		clamp(
			var(--min-size),
			calc(var(--intercept) + var(--slope) * 1vw),
			var(--max-size)
		)
	);
}

/* 540 → 768 */
@media (min-width: 540px) and (max-width: 768px) {
	html {
		--min-size: 7.104px;
		--max-size: 10px;
		--slope: 0.3307;
		--intercept: 4.96px;
	}
}

/* 1024 → 1440 */
@media (min-width: 1024px) and (max-width: 1440px) {
	html {
		--min-size: 7.104px;
		--max-size: 10px;
		--slope: 0.696;
		--intercept: -0.022px;
	}
}

/* 1440 → 1920 */
@media (min-width: 1440px) and (max-width: 1920px) {
	html {
		--min-size: 10px;
		--max-size: 11px;
		--slope: 0.2083;
		--intercept: 7px;
	}
}

/* 1920 → 2600 */
@media (min-width: 1920px) and (max-width: 2600px) {
	html {
		--min-size: 10px;
		--max-size: 12.42px;
		--slope: 0.2086;
		--intercept: 7px;
	}
}

/* ≥2600 */
@media (min-width: 2600px) {
	html {
		--min-size: 12.42px;
		--max-size: 12.42px;
		--slope: 0;
		--intercept: 0;
	}
}
